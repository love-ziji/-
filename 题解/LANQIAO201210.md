---
title: 蓝桥杯 2012年第三届省赛 C/C++ B组 10 取球游戏
date: 2021-03-10 14:47:26
tags:
- 动态规划
categories:
- 蓝桥杯
cover: https://cdn.jsdelivr.net/gh/love-ziji/CDN/post1.jpg
---

## 题目描述

今盒子里有 n 个小球，A 、B 两人轮流从盒中取球，每个人都可以看到另一个人取了多少个，也可以看到盒中还剩下多少个，并且两人都很聪明，不会做出错误的判断。
我们约定：
每个人从盒子中取出的球的数目必须是：1，3，7或者 8 个。
轮到某一方取球时不能弃权！
A先取球，然后双方交替取球，直到取完。
被迫拿到最后一个球的一方为负方（输方）
请编程确定出在双方都不判断失误的情况下，对于特定的初始球数，A是否能赢？
程序运行时，从标准输入获得数据，其格式如下：
先是一个整数 n (n < 100)，表示接下来有 n 个整数。然后是 n 个整数，每个占一行（整数 < 10000），表示初始球数。
程序则输出 n 行，表示 A 的输赢情况（输为 0，赢为 1）。
例如，用户输入：
4
1
2
10
18
则程序应该输出：
0
1
1
0

## 题目分析

使用动态规划算法，先确定盒子里有 1 至 8 个小球时 A 的输赢情况，然后使用状态转移方程：
a[i] = (a[i-1] && a[i-3] && a[i-7] && a[i-8]) ? 0 : 1​
来确定小球个数大于 8 时 A 的输赢情况
如小球个数等于 9 时，A 有 4 种取法：
1、取 1 个小球 => B 取时盒子里有 8 个小球 => a[8] = 1 => B 赢A 输
2、取 3 个小球 => B 取时盒子里有 6 个小球 => a[6] = 1 => B 赢A 输
3、取 7 个小球 => B 取时盒子里有 2 个小球 => a[2] = 1 => B 赢A 输
4、取 8 个小球 => B 取时盒子里有 1 个小球 => a[1] = 0 => B 输A 赢
4 种情况中至少有 1 种情况 A 赢，则 A 赢

```c++
#include<iostream>
using namespace std;

int main()
{
	int a[10000]={0,0,1,0,1,0,1,0,1}; //a[0]可为任意值
	for(int i=9;i<10000;i++) {
		a[i]=(a[i-1] && a[i-3] && a[i-7] && a[i-8]) ? 0 : 1; //状态转移方程 
	}
	int n;
	cin>>n;
	while(n--) {
		int num;
		cin>>num;
		cout<<a[num]<<endl;
	}
	
	return 0;
}
```

